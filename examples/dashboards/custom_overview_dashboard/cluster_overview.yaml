apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-custom-cluster-overview
  namespace: open-cluster-management-observability
  labels:
    grafana-custom-dashboard: 'true'
data:
  cluster-overview.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "editable": true,
      "gnetId": null,
      "graphTooltip": 0,
      "id": 5,
      "iteration": 1684767089349,
      "links": [],
      "panels": [
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "left",
                "displayMode": "auto",
                "filterable": false,
                "width": 80
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #A"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Max latency"
                  },
                  {
                    "id": "unit",
                    "value": "s"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "OK"
                          },
                          "to": 1
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 1,
                          "result": {
                            "text": "KO"
                          },
                          "to": 3e+32
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/09ec8aa1e996d6ffcd6817bbaff4db1b/kubernetes-api-server?var-cluster=${__data.fields.cluster}&var-instance=All"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 1
                        },
                        {
                          "color": "red",
                          "value": 2
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #B"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "API Errors"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "noValue",
                    "value": "0"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "from": "0",
                        "options": {
                          "from": 0,
                          "result": {
                            "color": "green",
                            "index": 0,
                            "text": "OK"
                          },
                          "to": 0
                        },
                        "text": "OK",
                        "to": "1",
                        "type": 2,
                        "value": ""
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/09ec8aa1e996d6ffcd6817bbaff4db1b/kubernetes-api-server?var-cluster=${__data.fields.cluster}&var-instance=All"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "cluster"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Cluster"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "links",
                    "value": []
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "api_up"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "displayName",
                    "value": "API Server"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 0.9999999999999999
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": []
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/09ec8aa1e996d6ffcd6817bbaff4db1b/kubernetes-api-server?var-cluster=${__data.fields.cluster}&var-instance=All"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #C"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "KubeScheduler"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "links",
                    "value": []
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #D"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "KubeController"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #E"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Node Ready"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 0.999999999999999
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": []
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.3
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #F"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Unschedulable"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #G"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "displayName",
                    "value": "NodeConditions"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #H"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "displayName",
                    "value": "Alerts"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "green",
                          "value": 0
                        },
                        {
                          "color": "orange",
                          "value": 1
                        },
                        {
                          "color": "red",
                          "value": 5
                        }
                      ]
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "from": -3,
                          "result": {
                            "text": "OK"
                          },
                          "to": 1
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 1,
                          "result": {
                            "text": "KO"
                          },
                          "to": 100000000000000000
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "/d/1WC7mqX7z/details-alert?var-cluster=${__data.fields.cluster}&var-instance=All"
                      }
                    ]
                  },
                  {
                    "id": "noValue",
                    "value": "OK"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #I"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "displayName",
                    "value": "Routers"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 0.9999999999
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.6
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #J"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "KubePods"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #K"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "ETCD leader"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "0": {
                            "text": "KO"
                          },
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/N8BxQ2jMz/kubernetes-etcd-cluster?var-cluster=${__data.fields.cluster}"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #L"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "LeaderChange"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "0": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0.1,
                          "result": {
                            "text": "KO"
                          },
                          "to": 100000000000000
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxxx.net/grafana/d/N8BxQ2jMz/kubernetes-etcd-cluster?var-cluster=${__data.fields.cluster}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #M"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "ETCD"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 0.99999999999999
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/N8BxQ2jMz/kubernetes-etcd-cluster?var-cluster=${__data.fields.cluster}"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #N"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "ClusterOperator"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "OK"
                          }
                        },
                        "type": "value"
                      },
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "/d/m3qSlJu7k/cluster-operators?var-cluster=${__data.fields.cluster}"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "red",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.5
                        },
                        {
                          "color": "green",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #O"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "color-background-solid"
                  },
                  {
                    "id": "displayName",
                    "value": "ClusterCPU"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "from": 0,
                          "result": {
                            "color": "green",
                            "index": 0,
                            "text": "OK"
                          },
                          "to": 0.7
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 0.7,
                          "result": {
                            "color": "orange",
                            "index": 1,
                            "text": "KO"
                          },
                          "to": 0.85
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 0.85,
                          "result": {
                            "color": "red",
                            "index": 2,
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "/d/efa86fd1d0c121a26444b636a3f509a8/kubernetes-compute-resources-cluster"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #P"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "ClusterMem"
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "from": -10,
                          "result": {
                            "text": "OK"
                          },
                          "to": 0.6
                        },
                        "type": "range"
                      },
                      {
                        "options": {
                          "from": 0.6,
                          "result": {
                            "text": "KO"
                          },
                          "to": 1
                        },
                        "type": "range"
                      }
                    ]
                  },
                  {
                    "id": "links",
                    "value": []
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 0.6
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "",
                        "url": "https://multicloud-console.apps.xxxx.net/grafana/d/8Qvi3edMz/acm-resource-optimization-cluster?var-cluster=${__data.fields.cluster}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Cluster"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 108
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 26,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 146,
          "interval": "4m",
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "API Server"
              }
            ]
          },
          "pluginVersion": "8.5.20",
          "targets": [
            {
              "exemplar": true,
              "expr": "topk(50,  max(apiserver_request_duration_seconds:histogram_quantile_99{clusterType!=\"ocp3\"}) by (cluster))\n* on(cluster) group_left(api_up) count_values without() (\"api_up\", (sum(up{service=\"kubernetes\",clusterType!=\"ocp3\"} == 1) by (cluster) / count(up{service=\"kubernetes\",clusterType!=\"ocp3\"}) by (cluster)))",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            },
            {
              "exemplar": true,
              "expr": "sum by (cluster)(sum:apiserver_request_total:1h{code=~\"5..\",clusterType!=\"ocp3\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "B"
            },
            {
              "exemplar": true,
              "expr": "sum(up{job=\"scheduler\"} == 1) by (cluster)/count(up{job=\"scheduler\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "C"
            },
            {
              "exemplar": true,
              "expr": "sum(up{job=~\"controller-manager|kube-controller-manager\"} == 1) by (cluster)/count(up{job=~\"controller-manager|kube-controller-manager\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "D"
            },
            {
              "exemplar": true,
              "expr": "sum(kube_node_status_condition{condition=\"Ready\",status=\"true\"} == 1) by (cluster)/count(kube_node_status_condition{condition=\"Ready\",status=\"true\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "E"
            },
            {
              "exemplar": true,
              "expr": "count(kube_node_spec_unschedulable{} == 0) by (cluster)/count(kube_node_spec_unschedulable{}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "F"
            },
            {
              "exemplar": true,
              "expr": "count(kube_node_status_condition{condition=~\"DiskPressure|MemoryPressure|PIDPressure\",status=\"true\"} == 0) by (cluster)/count(kube_node_status_condition{condition=~\"DiskPressure|MemoryPressure|PIDPressure\",status=\"true\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "G"
            },
            {
              "exemplar": true,
              "expr": "count(ALERTS{alertstate=\"firing\",severity=~\"critical|warning\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "H"
            },
            {
              "exemplar": true,
              "expr": "count(kube_pod_status_phase{namespace=\"openshift-ingress\",phase=~\"Failed|Pending\"} == 0) by (cluster)/count(kube_pod_status_phase{namespace=\"openshift-ingress\",phase=~\"Failed|Pending\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "I"
            },
            {
              "exemplar": true,
              "expr": "count(kube_pod_status_phase{namespace=~\"openshift-.+|kube-.+\",phase=~\"Failed|Pending\"} == 0) by (cluster)/count(kube_pod_status_phase{namespace=~\"openshift-.+|kube-.+\",phase=~\"Failed|Pending\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "J"
            },
            {
              "exemplar": true,
              "expr": "max(etcd_server_has_leader{job=\"etcd\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "K"
            },
            {
              "exemplar": true,
              "expr": "sum(changes(etcd_server_leader_changes_seen_total{job=\"etcd\"}[$__range])) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "L"
            },
            {
              "exemplar": true,
              "expr": "sum(up{job=\"etcd\"} == 1) by (cluster)/count(up{job=\"etcd\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "M"
            },
            {
              "exemplar": true,
              "expr": "count(cluster_operator_conditions{condition=~\"Degraded|Progressing\"} == 0) by (cluster)/count(cluster_operator_conditions{condition=~\"Degraded|Progressing\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "N"
            },
            {
              "exemplar": true,
              "expr": "1 - sum(:node_memory_MemAvailable_bytes:sum{}) by (cluster) / sum(kube_node_status_allocatable{resource=\"memory\"}) by (cluster)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "P"
            }
          ],
          "title": "Cluster Overview",
          "transformations": [
            {
              "id": "labelsToFields",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "indexByName": {
                  "Time": 0,
                  "Value #A": 2,
                  "Value #B": 4,
                  "api_up": 3,
                  "cluster": 1
                },
                "renameByName": {}
              }
            }
          ],
          "type": "table"
        }
      ],
      "refresh": "",
      "schemaVersion": 30,
      "style": "light",
      "tags": [
        "ACM"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "Observatorium",
              "value": "Observatorium"
            },
            "description": null,
            "error": null,
            "hide": 2,
            "includeAll": false,
            "label": null,
            "multi": false,
            "name": "datasource",
            "options": [],
            "query": "prometheus",
            "refresh": 2,
            "regex": "",
            "skipUrlSync": false,
            "type": "datasource"
          },
          {
            "datasource": "$datasource",
            "description": null,
            "error": null,
            "filters": [],
            "hide": 0,
            "label": null,
            "name": "Filters",
            "skipUrlSync": false,
            "type": "adhoc"
          }
        ]
      },
      "time": {
        "from": "now-5m",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "1m",
          "5m",
          "10m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ]
      },
      "timezone": "browser",
      "title": "ACM - All Clusters Overview",
      "uid": "70329b93c5b5465abc1f2855d628b8b8",
      "version": 1
    }